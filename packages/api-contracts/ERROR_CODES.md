# YouthLoop API 错误码表

## 统一响应格式

所有 API 响应遵循统一格式：

```json
{
  "code": 0,
  "message": "操作成功",
  "data": {},
  "traceId": "a1b2c3d4e5f6g7h8"
}
```

### 字段说明

| 字段 | 类型 | 说明 |
|------|------|------|
| code | Integer | 业务状态码，0 表示成功，非 0 表示失败 |
| message | String | 响应消息 |
| data | Object | 响应数据（可选） |
| traceId | String | 追踪 ID，用于日志追踪 |

---

## 错误码分类

### 通用错误码 (0-999)

| 错误码 | 说明 |
|--------|------|
| 0 | 操作成功 |
| 500 | 系统错误 |
| 503 | 服务暂时不可用 |

### 客户端错误 (1000-1999)

| 错误码 | 说明 |
|--------|------|
| 1000 | 请求参数错误 |
| 1001 | 参数校验失败 |
| 1002 | 缺少必要参数 |
| 1003 | 参数格式错误 |

### 认证/鉴权错误 (2000-2999)

| 错误码 | 说明 |
|--------|------|
| 2000 | 未登录或登录已过期 |
| 2001 | Token 无效 |
| 2002 | Token 已过期 |
| 2003 | 无权限访问 |

### 业务错误 (3000-9999)

#### 通用业务错误 (3000-3099)

| 错误码 | 说明 |
|--------|------|
| 3000 | 资源不存在 |
| 3001 | 资源已存在 |
| 3002 | 操作不被允许 |

#### Auth 模块 (3100-3199)

| 错误码 | 说明 |
|--------|------|
| 3100 | 用户不存在 |
| 3101 | 用户已存在 |
| 3102 | 密码错误 |
| 3103 | 验证码无效或已过期 |

#### Content 模块 (3200-3299)

| 错误码 | 说明 |
|--------|------|
| 3200 | 内容不存在 |
| 3201 | 内容已发布 |

#### Activity 模块 (3300-3399)

| 错误码 | 说明 |
|--------|------|
| 3300 | 活动不存在 |
| 3301 | 活动场次已满 |
| 3302 | 已报名该活动 |

#### Interaction 模块 (3400-3499)

| 错误码 | 说明 |
|--------|------|
| 3400 | 评论不存在 |
| 3401 | 已进行过该操作 |

#### Points 模块 (3500-3599)

| 错误码 | 说明 |
|--------|------|
| 3500 | 积分不足 |
| 3501 | 今日已签到 |
| 3502 | 任务未完成 |

---

## 分页响应格式

分页接口统一使用以下格式：

```json
{
  "code": 0,
  "message": "操作成功",
  "data": {
    "items": [],
    "total": 100,
    "page": 1,
    "pageSize": 20,
    "totalPages": 5,
    "hasNext": true,
    "hasPrev": false
  },
  "traceId": "a1b2c3d4e5f6g7h8"
}
```

### 分页参数

| 参数 | 类型 | 必填 | 默认值 | 说明 |
|------|------|------|--------|------|
| page | Integer | 否 | 1 | 页码（从 1 开始） |
| pageSize | Integer | 否 | 20 | 每页大小（最大 100） |

---

## TraceId 追踪

所有请求和响应都会携带 `traceId`：

- **请求头**：`X-Trace-Id`（可选，如果不提供则自动生成）
- **响应头**：`X-Trace-Id`（返回本次请求的 traceId）
- **响应体**：`traceId` 字段

用于日志追踪和问题排查。
