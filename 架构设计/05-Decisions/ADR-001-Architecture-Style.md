# ADR-001：架构风格选择（模块化单体 + Worker）

## 状态
Accepted

## 背景
YouthLoop 包含内容、活动、互动、积分、搜索、爬虫、推荐等多个业务域。
存在大量跨域联动（行为→积分/推荐，互动→热度/计数），并且有明显的异步任务与定时任务需求。

## 决策
采用：
1) 模块化单体（Modular Monolith）作为主架构
2) 将系统运行分为两个进程：
   - API 服务：对外 HTTP 请求，低延迟
   - Worker 服务：异步任务与定时任务

## 主要原因
- 降低分布式复杂度（不提前微服务）
- 保持边界清晰（以 Domain 模块划分）
- 异步任务不会拖慢 API
- 后期可按域拆分成独立服务

## 影响
正向：
- 开发与调试更快
- 事务一致性更容易保证
- 清晰的工程结构与职责边界

代价：
- 初期需要严格遵守模块边界
- 需要引入队列/事件机制来解耦统计与积分发放

## 备选方案（未选）
- 一开始微服务：复杂度过高，运维与一致性成本大
- 单进程全做：异步任务会影响 API 延迟与稳定性
